# 3章 型推論と制御フロー解析

- 産業界の言語は明示的な型付け、学術界の言語は型推論が優位だった

## 項目18 推論可能な型でコードを乱雑にしない

- アノテーションを書けばいいというものではない
  - 「とりあえず型書いときゃええやろ」と思っていた 反省
- ローカル変数はTSの型推論に任せるのが良い
- オブジェクトリテラル・関数の引数・戻り値では型アノテーションを付けるべき
  - 特にexportする関数や名前付きの型を返すときに重要
  - 引数でデフォルト値がある場合は省略可能
    - とはいえデフォルトありの時だけ型を書かないのは気持ち悪い
- eslintルール`no-inferrable-types`でチェックできる

## 項目19 異なる型には異なる変数を使う

## 項目20 変数の型がどのように決まるか理解する

## 項目21 オブジェクトを一気に構築する

- 一度作ったオブジェクトにあとからプロパティを足したりするな
  - あとから足していくやり方は手続き的っぽいので、TSの設計思想に反していそうではある

## 項目22 型の絞込みを理解する

- ほかの言語では開発者が頭の中でやっていた、「この分岐でnullでないのは確定しているから、型としては〇〇しかない」をIDEがやってくれてすごい
  - 認知負荷が下がる -> 開発者体験がいいのはこのあたりだろうなあ
- 開発者よりTSのほうが型の絞込みに詳しいことが多いので基本的には任せて、例外的なケースだけ開発者が明示する
- TSが型を追いやすいようなコードを書く これはAI活用に通じるものがありそう
